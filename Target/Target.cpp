// Target.cpp : Defines the entry point for the console application.
//

#include "stdafx.h"
#include <iostream>
#include <string>
#include <Windows.h>
#include <fstream>

using namespace std;

int _tmain(int argc, _TCHAR* argv[])
{
	std::string value;
	/*ofstream myfile;
	myfile.open("api_seq.txt");
	myfile << "Test Output" << endl;
	myfile.close();*/
	while (true)
	{
		HANDLE currentThread = GetCurrentThread();
		cout << "Target process id: ";
		cout << GetProcessIdOfThread(currentThread);
		cout << "\n";
		CloseHandle(currentThread);

		cout << "Target: press <enter> to Beep (Ctrl-C to exit): ";
		getline(std::cin, value);
		cout << "Target: calling Beep...\n";
		Beep(500, 500);
		cout << "Target: Beep complete.\n";
		int msgboxID = MessageBox(
			NULL,
			(LPCWSTR)L"Resource not avaliable\nDo you want to try again?",
			(LPCWSTR)L"Account Details",
			MB_OK
		);
	}
	return 0;
}